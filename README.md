# ğŸš€ Cloud App Starter - ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯Webã‚µã‚¤ãƒˆä½œæˆãƒ„ãƒ¼ãƒ«

**åˆå¿ƒè€…ã§ã‚‚OKï¼** ãƒ–ãƒ©ã‚¦ã‚¶ã ã‘ã§ç¾ã—ã„Webã‚µã‚¤ãƒˆã‚’5åˆ†ã§ä½œæˆãƒ»å…¬é–‹ã§ãã¾ã™ã€‚

## âœ¨ ä½•ãŒã§ãã‚‹ï¼Ÿ

- ğŸŒ **Webã‚µã‚¤ãƒˆä½œæˆ**: ã‚µã‚¤ãƒˆã‚’è‡ªå‹•ç”Ÿæˆ
- âš¡ **5åˆ†ã§å…¬é–‹**: é¢å€’ãªè¨­å®šä¸è¦ã€æ•°ã‚¯ãƒªãƒƒã‚¯ã§ä¸–ç•Œã«å…¬é–‹
- ğŸ’° **ã»ã¼ç„¡æ–™**: æœˆæ•°å††ç¨‹åº¦ã€ä½¿ã‚ãªã„æ™‚ã¯å‰Šé™¤ã§å®Œå…¨ç„¡æ–™
- ğŸ—‘ï¸ **ç°¡å˜å‰Šé™¤**: ä¸è¦ã«ãªã£ãŸã‚‰æ•°ã‚¯ãƒªãƒƒã‚¯ã§å‰Šé™¤

## ğŸ¯ ãƒ‡ãƒ¢ã‚µã‚¤ãƒˆ

**å®Ÿéš›ã«ä½œæˆã•ã‚Œã‚‹ã‚µã‚¤ãƒˆ**: https://cloudadevypglfxby.z11.web.core.windows.net/

## ğŸš€ ä»Šã™ãå§‹ã‚ã‚‹

| å¯¾è±¡è€… | ã‚¬ã‚¤ãƒ‰ | æ‰€è¦æ™‚é–“ | å†…å®¹ |
|--------|--------|----------|------|
| ğŸ”° **å®Œå…¨åˆå¿ƒè€…** | **[ğŸ“š å®Œå…¨ã‚¬ã‚¤ãƒ‰](docs/beginner-guide.md)** | 30åˆ† | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆã‹ã‚‰è©³ç´°è§£èª¬ |
| âš¡ **çµŒé¨“è€…** | **[ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ](docs/quick-start.md)** | 5åˆ† | æœ€é€Ÿã§ã‚µã‚¤ãƒˆå…¬é–‹ |
| ğŸ“± **ä»Šã™ãè©¦ã—ãŸã„** | **[âš¡ QUICKSTART](QUICKSTART.md)** | 1åˆ† | è¶…ç°¡æ½”ãªæ‰‹é † |
| ğŸ”§ **é–‹ç™ºè€…** | **ğŸ‘‡ æŠ€è¡“è©³ç´°** | - | ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨è¨­å®š |

---

## ğŸ¯ æŠ€è¡“è©³ç´°ï¼ˆé–‹ç™ºè€…å‘ã‘ï¼‰

### âœ… å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½
- **Infrastructure as Code**: Terraformã«ã‚ˆã‚‹è‡ªå‹•åŒ–
- **CI/CD Pipeline**: GitHub Actionsã«ã‚ˆã‚‹è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
- **Multi-Cloudå¯¾å¿œ**: Azureå¯¾å¿œ
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: Service Principalèªè¨¼
- **ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ çŠ¶æ³è¡¨ç¤º
- **ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯å‰Šé™¤**: å®‰å…¨ãªå‰Šé™¤ã‚·ã‚¹ãƒ†ãƒ 

### ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
```
GitHub â†’ Actions â†’ Terraform â†’ Azure Storage â†’ Static Website
   â†“        â†“         â†“            â†“              â†“
ã‚³ãƒ¼ãƒ‰å¤‰æ›´ â†’ è‡ªå‹•æ¤œçŸ¥ â†’ ã‚¤ãƒ³ãƒ•ãƒ©æ›´æ–° â†’ ãƒ•ã‚¡ã‚¤ãƒ«é…ç½® â†’ ã‚µã‚¤ãƒˆå…¬é–‹
```

### ğŸ› ï¸ é–‹ç™ºè€…å‘ã‘ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒ

#### Linux/Mac (Makeä½¿ç”¨)
```bash
# 1. ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/sin1227488801/cloud-app-starter.git
cd cloud-app-starter

# 2. èªè¨¼æƒ…å ±è¨­å®š
cp .env.example .env
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦å®Ÿéš›ã®èªè¨¼æƒ…å ±ã‚’è¨­å®š

# 3. ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ãƒ‡ãƒ—ãƒ­ã‚¤
make up-azure     # ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰
make url-azure    # URLç¢ºèª

# 4. ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯å‰Šé™¤
make down-azure   # å®Œå…¨å‰Šé™¤
```

#### Windows (PowerShellä½¿ç”¨)
```powershell
# 1. ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/sin1227488801/cloud-app-starter.git
cd cloud-app-starter

# 2. èªè¨¼æƒ…å ±è¨­å®š
Copy-Item .env.example .env
# .envã‚’ç·¨é›†ã—ã¦å®Ÿéš›ã®èªè¨¼æƒ…å ±ã‚’è¨­å®š

# 3. ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ãƒ‡ãƒ—ãƒ­ã‚¤
.\azure-deploy.ps1 up        # ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰
.\azure-deploy.ps1 url       # URLç¢ºèª

# 4. ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯å‰Šé™¤
.\azure-deploy.ps1 down      # å®Œå…¨å‰Šé™¤
```

### ğŸ¯ ãƒ‡ãƒ¢ã®è¦‹æ–¹

1. **ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¢**: ä¸Šè¨˜æ‰‹é †ã§ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã€`make url-azure`ã§è¡¨ç¤ºã•ã‚Œã‚‹URLã«ã‚¢ã‚¯ã‚»ã‚¹
2. **ãƒ©ã‚¤ãƒ–ãƒ‡ãƒ¢**: [https://cloudappdevm627ymaf.z11.web.core.windows.net/](https://cloudappdevm627ymaf.z11.web.core.windows.net/)
3. **UIæ©Ÿèƒ½**:
   - ãƒ•ã‚§ãƒ¼ã‚ºé€²æ—ã®å¯è¦–åŒ–
   - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ—ãƒ­ã‚¤çŠ¶æ³
   - ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã‚³ãƒãƒ³ãƒ‰ã‚³ãƒ”ãƒ¼
   - ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³è¡¨ç¤º

### ğŸ”„ CI/CD ãƒ•ãƒ­ãƒ¼

```text
Developer â†’ git push â†’ GitHub Actions â†’ Terraform â†’ Azure Storage â†’ Static Website
     â†“              â†“                    â†“              â†“              â†“
   ã‚³ãƒ¼ãƒ‰å¤‰æ›´      PRä½œæˆæ™‚ãƒ—ãƒ©ãƒ³      ã‚¤ãƒ³ãƒ•ãƒ©æ›´æ–°    ã‚¢ãƒ—ãƒªãƒ‡ãƒ—ãƒ­ã‚¤   è‡ªå‹•åæ˜ 
```

## ğŸ—‘ï¸ ãƒªã‚½ãƒ¼ã‚¹å‰Šé™¤

### ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯å‰Šé™¤ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ï¼‰

#### Linux/Mac
```bash
# 5ç§’ã®ç¢ºèªå¾…æ©Ÿå¾Œã«å‰Šé™¤å®Ÿè¡Œ
make down-azure

# ã¾ãŸã¯æ‰‹å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
bash scripts/destroy-azure.sh
```

#### Windows
```powershell
# 5ç§’ã®ç¢ºèªå¾…æ©Ÿå¾Œã«å‰Šé™¤å®Ÿè¡Œ
.\azure-deploy.ps1 down
```

### GitHub ActionsçµŒç”±ã§ã®å‰Šé™¤
1. GitHub Actions â†’ terraform-destroy â†’ Run workflow
2. ç¢ºèªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ã€ŒDESTROYã€ã¨å…¥åŠ›
3. å®Ÿè¡Œã—ã¦å…¨ãƒªã‚½ãƒ¼ã‚¹ã‚’å‰Šé™¤

âš ï¸ **æ³¨æ„**: å‰Šé™¤ã¯å–ã‚Šæ¶ˆã›ã¾ã›ã‚“ã€‚æœ¬ç•ªç’°å¢ƒã§ã¯ååˆ†æ³¨æ„ã—ã¦ãã ã•ã„ã€‚

## Layout

- `envs/<cloud>`: root modules & backend config
- `modules/*`: reusable pieces (keep small)
- `docker/terraform`: pinned Terraform runner
- `scripts/*`: helpers
- `.github/workflows`: optional CI validate
- `docs/`: runbook, diagrams

## Development Setup

### Pre-commit Hooks

ã‚³ãƒ¼ãƒ‰å“è³ªã‚’è‡ªå‹•åŒ–ã™ã‚‹ãŸã‚ã€pre-commitãƒ•ãƒƒã‚¯ã‚’è¨­å®šã—ã¦ãã ã•ã„ï¼š

```bash
# pre-commitã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install pre-commit

# ãƒ•ãƒƒã‚¯ã®è¨­å®š
pre-commit install

# æ‰‹å‹•å®Ÿè¡Œï¼ˆå…¨ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
pre-commit run --all-files
```

## Notes

- Start with **LOCAL state** â†’ switch to remote later.
- Keep modules tiny: `network`, `compute` first; add `observability` later.
- Use Docker runner to avoid local TF/version drift.

## ğŸ”„ CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

### è‡ªå‹•åŒ–ãƒ•ãƒ­ãƒ¼

1. **PRä½œæˆæ™‚**: `terraform-plan-pr` ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒå®Ÿè¡Œ
   - Azure/AWSç’°å¢ƒã®ãƒ—ãƒ©ãƒ³çµæœã‚’PRã«ã‚³ãƒ¡ãƒ³ãƒˆ
   - æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ãƒ»æ¤œè¨¼å®Ÿè¡Œ

2. **mainãƒãƒ¼ã‚¸æ™‚**:
   - `terraform-apply`: ã‚¤ãƒ³ãƒ•ãƒ©å¤‰æ›´ã‚’è‡ªå‹•é©ç”¨
   - `app-deploy`: ã‚¢ãƒ—ãƒªãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ã‚’è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

3. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°**:
   - `meta.json`ã§ãƒ‡ãƒ—ãƒ­ã‚¤çŠ¶æ³ã‚’è¿½è·¡
   - ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã§æœ€æ–°çŠ¶æ³ã‚’è¡¨ç¤º

### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è©³ç´°

- **terraform-plan-pr.yaml**: PRæ™‚ã®è‡ªå‹•ãƒ—ãƒ©ãƒ³
- **terraform-apply.yaml**: ã‚¤ãƒ³ãƒ•ãƒ©è‡ªå‹•é©ç”¨
- **app-deploy.yaml**: é™çš„ã‚µã‚¤ãƒˆè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

### å°†æ¥ã®æ‹¡å¼µäºˆå®š

- **Remote State**: Azure Storage Backendç§»è¡Œ
- **Security**: tfsec/checkovçµ±åˆ
- **Testing**: Terratestå°å…¥
- **Environments**: staging/productionåˆ†é›¢

**ğŸ¯ ãƒ‡ãƒ¢ã‚µã‚¤ãƒˆ**: [https://cloudappdevohgqvfjy.z11.web.core.windows.net/](https://cloudappdevohgqvfjy.z11.web.core.windows.net/)
